{% extends "base.html" %}
{% block start %}
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

<style>
  /* Custom CSS for the page */
  #gfg{
    color: green;
    font-weight: bold;
  }
  
  .custom-form {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 10px;
  }

  .custom-card {
    border: none;
    border-radius: 10px;
    box-shadow: 0px 5px 15px 0px rgba(0, 0, 0, 0.2);
  }

  .custom-title {
    color: #171819;
    text-align: center;
  }

  .custom-button {
    background-color: #ff6b6b;
    color: #fff;
    font-weight: bold;
    border: none;
  }

  .custom-button:hover {
    background-color: #ff4444;
  }

  .custom-search {
    background-color: #f8f9fa;
  }

  .custom-table {
    background-color: #f8f9fa;
  }

  .custom-image {
    height: 100px;
  }

  .custom-delete-button {
    background-color: #dc3545;
    color: #fff;
    font-weight: bold;
    border: none;
  }

  .custom-delete-button:hover {
    background-color: #c82333;
  }
</style>

<div class="container mt-5">
  <form class="col-6 mx-auto  custom-card" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="custom-form">
      <h2 class="text-center" id="gfg">GeeksforGeeks</h2>
    <h3 class="custom-title ">📋 Add Task</h3>
    <hr>
    <div class="form-group">
      <label for="recipeName">📋 Task Name</label>
      <input name="task_name" type="text" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="recipeDescription">📝 Task Description</label>
      <textarea name="task_description" class="form-control" required></textarea>
    </div>
    <div class="form-group">
      <label for="recipeImage">📷 Task Related Image</label>
      <input name="task_image" type="file" class="form-control">
    </div>

    <button type="submit" class="btn custom-button btn-block">Add Task</button>
  </form>
</div>
  <hr>

  <div class="class mt-5">
    <form action="">
      <div class="max-auto col-6">
        <div class="form-group custom-search">
          <label for="searchFood">🔍 Search Task </label>
          <input name="search" type="text" class="form-control">
        </div>
        <button type="submit" class="btn btn-primary custom-button">Search</button>
      </div>
    </form>
  </div>

  <table class="table mt-5 custom-table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">📋 Task</th>
        <th scope="col">📝 Task Desc</th>
        <th scope="col">📷 Task Realted Image</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
      <tr>
        <th scope="row">{{forloop.counter}}</th>
        <td>{{task.task_name}}</td>
        <td>{{task.task_description}}</td>
        <td>
          <img src="/media/{{task.task_image}}" class="custom-image">
        </td>
        <td>
          <a href="/delete_task/{{task.id }}" class="btn custom-delete-button m-2">❌ Delete</a>
          <a href="/update_task/{{task.id }}" class="btn btn-success">✏️ Update</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
